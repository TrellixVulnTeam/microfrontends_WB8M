const a4_0x54ea=['axiosMultipleTries','Completed\x20run\x20group\x20with\x20an\x20error','apiAxiosInstance','completeRunGroupWithError','tasks','mapRespToPerfEntry','completeRunGroup','/nx-cloud/executions/complete-run-group','/nx-cloud/executions/tasks','VERBOSE_LOGGING','note','defineProperty','createApiAxiosInstance','axiosException','../../../utilities/environment','runGroup','createMetricRecorder','recordMetric','RUNNER_FAILURE_PERF_ENTRY','post','throw','__esModule','next','__awaiter','DistributedAgentApi','agentName','then','dtePollTasks','../../../utilities/metric-logger','response','error','value','data','runGroup:\x20'];(function(_0x455833,_0x54ea10){const _0xbeb452=function(_0x30b8c9){while(--_0x30b8c9){_0x455833['push'](_0x455833['shift']());}};_0xbeb452(++_0x54ea10);}(a4_0x54ea,0x187));const a4_0xbeb4=function(_0x455833,_0x54ea10){_0x455833=_0x455833-0x0;let _0xbeb452=a4_0x54ea[_0x455833];return _0xbeb452;};'use strict';var __awaiter=this&&this[a4_0xbeb4('0x6')]||function(_0x1559f7,_0x3eb0ec,_0x39b142,_0x2f3828){function _0x143cd7(_0xfad3ef){return _0xfad3ef instanceof _0x39b142?_0xfad3ef:new _0x39b142(function(_0x3b299c){_0x3b299c(_0xfad3ef);});}return new(_0x39b142||(_0x39b142=Promise))(function(_0x1adf8b,_0x1e78de){function _0x2bfdc7(_0x47653a){try{_0x1605d5(_0x2f3828[a4_0xbeb4('0x5')](_0x47653a));}catch(_0xabfd8f){_0x1e78de(_0xabfd8f);}}function _0x45c224(_0x17815b){try{_0x1605d5(_0x2f3828[a4_0xbeb4('0x3')](_0x17815b));}catch(_0x12feaa){_0x1e78de(_0x12feaa);}}function _0x1605d5(_0x2c9d34){_0x2c9d34['done']?_0x1adf8b(_0x2c9d34[a4_0xbeb4('0xe')]):_0x143cd7(_0x2c9d34['value'])[a4_0xbeb4('0x9')](_0x2bfdc7,_0x45c224);}_0x1605d5((_0x2f3828=_0x2f3828['apply'](_0x1559f7,_0x3eb0ec||[]))['next']());});};Object[a4_0xbeb4('0x1c')](exports,a4_0xbeb4('0x4'),{'value':!![]});exports[a4_0xbeb4('0x7')]=void 0x0;const axios_1=require('../../../utilities/axios');const environment_1=require(a4_0xbeb4('0x1f'));const metric_logger_1=require(a4_0xbeb4('0xb'));const {output}=require('../../../utilities/nx-imports');class DistributedAgentApi{constructor(_0x1cf2f9,_0x67bacb,_0x4ea057){this[a4_0xbeb4('0x20')]=_0x67bacb;this[a4_0xbeb4('0x8')]=_0x4ea057;this['apiAxiosInstance']=(0x0,axios_1[a4_0xbeb4('0x1d')])(_0x1cf2f9);}[a4_0xbeb4('0x15')](_0x535ede,_0x50ad2a,_0x28fc87){var _0x239b7a;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1b8d02=(0x0,metric_logger_1[a4_0xbeb4('0x21')])(a4_0xbeb4('0xa'));try{const _0x65ca3=yield(0x0,axios_1[a4_0xbeb4('0x11')])(()=>this[a4_0xbeb4('0x13')][a4_0xbeb4('0x2')](a4_0xbeb4('0x19'),{'runGroup':this[a4_0xbeb4('0x20')],'agentName':this[a4_0xbeb4('0x8')],'executionId':_0x535ede,'statusCode':_0x50ad2a,'completedTasks':_0x28fc87}));_0x1b8d02[a4_0xbeb4('0x0')]((0x0,metric_logger_1['mapRespToPerfEntry'])(_0x65ca3));return _0x65ca3[a4_0xbeb4('0xf')];}catch(_0x2cd891){_0x1b8d02['recordMetric'](((_0x239b7a=_0x2cd891===null||_0x2cd891===void 0x0?void 0x0:_0x2cd891[a4_0xbeb4('0x1e')])===null||_0x239b7a===void 0x0?void 0x0:_0x239b7a['response'])?(0x0,metric_logger_1[a4_0xbeb4('0x16')])(_0x2cd891['axiosException'][a4_0xbeb4('0xc')]):metric_logger_1[a4_0xbeb4('0x1')]);throw _0x2cd891;}});}[a4_0xbeb4('0x14')](_0x1b2723){var _0x34594e;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a4_0xbeb4('0x1a')]){output['note']({'title':'Completing\x20run\x20group\x20with\x20an\x20error','bodyLines':[a4_0xbeb4('0x10')+this[a4_0xbeb4('0x20')],'error:\x20'+_0x1b2723]});}const _0x5cbc6f=(0x0,metric_logger_1[a4_0xbeb4('0x21')])(a4_0xbeb4('0x17'));try{const _0xfa5573=yield(0x0,axios_1[a4_0xbeb4('0x11')])(()=>this[a4_0xbeb4('0x13')][a4_0xbeb4('0x2')](a4_0xbeb4('0x18'),{'runGroup':this['runGroup'],'agentName':this[a4_0xbeb4('0x8')],'criticalErrorMessage':_0x1b2723}));if(environment_1[a4_0xbeb4('0x1a')]){output[a4_0xbeb4('0x1b')]({'title':a4_0xbeb4('0x12')});}_0x5cbc6f['recordMetric']((0x0,metric_logger_1[a4_0xbeb4('0x16')])(_0xfa5573));}catch(_0xaea213){_0x5cbc6f[a4_0xbeb4('0x0')](((_0x34594e=_0xaea213===null||_0xaea213===void 0x0?void 0x0:_0xaea213['axiosException'])===null||_0x34594e===void 0x0?void 0x0:_0x34594e['response'])?(0x0,metric_logger_1[a4_0xbeb4('0x16')])(_0xaea213['axiosException'][a4_0xbeb4('0xc')]):metric_logger_1[a4_0xbeb4('0x1')]);console[a4_0xbeb4('0xd')](_0xaea213);}});}}exports['DistributedAgentApi']=DistributedAgentApi;